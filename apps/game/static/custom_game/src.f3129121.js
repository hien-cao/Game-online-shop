parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"xRT1":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function n(){var t=this;e(this,n),this.keyState={},this.mount=function(){document.addEventListener("keydown",t.onKeyDownHandler,!1),document.addEventListener("keyup",t.onKeyUpHandler,!1)},this.unmount=function(){document.removeEventListener("keydown",t.onKeyDownHandler),document.removeEventListener("keyup",t.onKeyUpHandler)},this.onKeyDownHandler=function(e){t.keyState[e.key]=!0},this.onKeyUpHandler=function(e){t.keyState[e.key]=!1}};exports.default=n;
},{}],"J+uv":[function(require,module,exports) {
"use strict";function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function o(){var n=this;e(this,o),this.x=0,this.y=0,this.mouseDown=!1,this.mount=function(e){e.addEventListener("mousemove",n.handleMouseMove,!1),e.addEventListener("mousedown",n.handleMouseDown,!1),e.addEventListener("mouseup",n.handleMouseUp,!1)},this.unmount=function(e){e.removeEventListener("mousemove",n.handleMouseMove),e.removeEventListener("mousedown",n.handleMouseDown),e.removeEventListener("mouseup",n.handleMouseUp)},this.handleMouseMove=function(e){n.x=e.offsetX,n.y=e.offsetY},this.handleMouseDown=function(e){n.mouseDown=!0,n.mouseClick=n.mouseClick||Date.now()},this.handleMouseUp=function(e){n.mouseDown=!1,n.mouseClick=void 0}};exports.default=o;
},{}],"Zk2v":[function(require,module,exports) {
module.exports="ship.8f0e364e.svg";
},{}],"joTV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=document.createElement("canvas");e.width=4,e.height=3;var t=e.getContext("2d");t.fillStyle="#CCC",t.fillRect(0,0,4,3);var l=e;exports.default=l;
},{}],"Z1C3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sprites=exports.default=void 0;var e=i(require("../../static/images/ship.svg")),t=i(require("./projectile"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function e(t){var i=this;r(this,e),this.img=new Image,this.render=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.img.width,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.img.height;e.drawImage(i.img,~~t,~~r,s,n)},"string"==typeof t?(this.img=new Image,this.img.src=t):this.img=t};exports.default=s;var n={projectile:new s(t.default),ship:new s(e.default)};exports.sprites=n;
},{"../../static/images/ship.svg":"Zk2v","./projectile":"joTV"}],"RTj/":[function(require,module,exports) {
"use strict";function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function t(i,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function e(i,e,o){return e&&t(i.prototype,e),o&&t(i,o),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.globalSpeedModifier=void 0;var o=20;exports.globalSpeedModifier=o;var r=function(){function t(e){var r=this,n=e.sprite,s=e.initialWidth,a=void 0===s?1:s,l=e.initialHeight,c=void 0===l?1:l,h=e.scale,y=void 0===h?1:h,f=e.x,u=void 0===f?0:f,d=e.y,v=void 0===d?0:d,m=e.maxLife,p=void 0===m?1:m,x=e.velocity,g=void 0===x?[0,0]:x,b=e.maxVelocity,w=e.minVelocity;i(this,t),this.acceleration=[0,0],this.velocity=[0,0],this.width=0,this.height=0,this.rescale=function(i){if(void 0!==r.sprite){var t=r.sprite.img.width*i,e=t*r.sprite.img.height/r.sprite.img.width;isNaN(t)||isNaN(e)||(r.width=t,r.height=e)}},this.getDistance=function(i){return Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2))},this.collides=function(i){return i.x+i.width>r.x&&i.x<r.x+r.width&&i.y+i.height>r.y&&i.y<r.y+r.height},this.update=function(i,t,e){if(r.updatePosition(i),Array.isArray(r.onUpdate)){var o=!0,n=!1,s=void 0;try{for(var a,l=r.onUpdate[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){(0,a.value)(i,t)}}catch(y){n=!0,s=y}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}}if(r.life<=0)return r.life=0,r.destroy(t,e);var c=r.checkCollisions(t,e);if(c){var h=c.life;c.life-=r.life,r.life-=h,c.life<=0&&r.source===t.player&&(t.score+=1.2*c.maxLife)}},this.render=function(i,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.sprite&&r.sprite.render(i,r.x-t.x,r.y-t.y,r.width,r.height)},this.destroy=function(i,t){var e=i.gameObjects[t];r.velocity=[0,0],"function"==typeof e.onDestroy&&e.onDestroy(i),i.gameObjects.splice(t,1)},this.checkCollisions=function(i,t){for(;t--;)if((!Array.isArray(r.immuneTo)||!r.immuneTo.find(function(e){return e===i.gameObjects[t]}))&&r.collides(i.gameObjects[t]))return i.gameObjects[t];return null},this.updatePosition=function(i){r.x+=r.velocity[0]*i*o,r.y+=r.velocity[1]*i*o,r.velocity[0]+=r.acceleration[0]*i*o,r.velocity[1]+=r.acceleration[1]*i*o,r.minVelocity&&(r.velocity[0]=Math.max(r.minVelocity[0],r.velocity[0]),r.velocity[1]=Math.max(r.minVelocity[1],r.velocity[1])),r.maxVelocity&&(r.velocity[0]=Math.min(r.maxVelocity[0],r.velocity[0]),r.velocity[1]=Math.min(r.maxVelocity[1],r.velocity[1]))},this.sprite=n,this.width=a,this.height=c,this.x=u,this.y=v,this.maxLife=Math.floor(p),this.life=this.maxLife,this.velocity=g,this.maxVelocity=b,this.minVelocity=w,this.scale=y,this._sprite&&(this._sprite.img.onload=function(){return r.rescale(y)},this.rescale(y))}return e(t,[{key:"sprite",get:function(){return this._sprite},set:function(i){this._sprite=i,this.rescale(this.scale)}},{key:"state",get:function(){return{life:this.life,maxLife:this.maxLife,type:this.constructor.name,velocity:this.velocity,x:this.x,y:this.y}},set:function(i){Object.assign(this,i)}}]),t}();exports.default=r;
},{}],"kAfW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../sprites/Sprite")),e=r(require("./GameObject"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(r[n[o]]=t[n[o]])}return r},y=function(r){function n(e){var r;o(this,n);e.radius;var i=l(e,["radius"]);return(r=u(this,c(n).call(this,i))).getDistance=function(t){return Math.sqrt(t instanceof n?Math.pow(r.x+r.radius-(t.x+t.radius),2)+Math.pow(r.y+r.radius-(t.y+t.radius),2):Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},r.collides=function(t){return t instanceof n?r.getDistance(t)<t.radius+r.radius:t.x+t.width>r.x&&t.x<r.x+r.width&&t.y+t.height>r.y&&t.y<r.y+r.height},r.radius=2.5*r.maxLife,r.sprite=new t.default(n.generateSprite(r.radius)),r}return f(n,e.default),a(n,[{key:"onDestroy",value:function(t){if(!(this.maxLife<5)){var e=new n({maxLife:this.maxLife/2,velocity:[this.velocity[0]+.5-Math.random(),Math.min(this.velocity[1],0)-2*Math.random()],x:this.x+this.radius,y:this.y+this.radius-5}),r=new n({maxLife:this.maxLife/2,velocity:[this.velocity[0]+.5-Math.random(),Math.max(this.velocity[1],0)+2*Math.random()],x:this.x+this.radius,y:this.y+this.radius+5});e.immuneTo=[r],r.immuneTo=[e],t.addGameObject(e),t.addGameObject(r)}}}],[{key:"generateSprite",value:function(t){var e=3+Math.random()*Math.sqrt(t),r=document.createElement("canvas");r.width=2*t,r.height=2*t;var n=r.getContext("2d"),o=2*Math.PI/e;n.beginPath(),n.moveTo(.1*Math.random()*t+2*t,.1*Math.random()*t+t);for(var i=0;i<e;i++)n.lineTo(.1*Math.random()*t+(t+Math.cos(i*o)*t),.1*Math.random()*t+(t+Math.sin(i*o)*t));return n.closePath(),n.fillStyle="#CCC",n.fill(),n.rotate(Math.random()*Math.PI),r}}]),n}();exports.default=y;
},{"../sprites/Sprite":"Z1C3","./GameObject":"RTj/"}],"7Y6d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./GameObject"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&(o[n[r]]=t[n[r]])}return o},a=function(e){function o(t){var e;n(this,o);var i=t.weapon,c=t.minVelocity,f=void 0===c?[10,10]:c,a=t.maxVelocity,p=void 0===a?[10,10]:a,y=t.shield,s=void 0===y?0:y,b=l(t,["weapon","minVelocity","maxVelocity","shield"]);return(e=r(this,u(o).call(this,b))).minVelocity=f,e.maxVelocity=p,e.shield=s,e.weapon=i,e}return c(o,t.default),o}();exports.default=a;
},{"./GameObject":"RTj/"}],"N446":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Ship"));function t(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(t){function o(e){var t;return n(this,o),(t=a(this,i(o).call(this,e))).onUpdate=[function(e,o){o.score+=.01*Math.sqrt(t.velocity[0]*t.velocity[0]+t.velocity[1]*t.velocity[1])},function(e,o){t.acceleration[0]=0,t.acceleration[1]=0,o.keyboard.keyState.w&&(t.acceleration[1]-=1),o.keyboard.keyState.a&&(t.acceleration[0]-=1),o.keyboard.keyState.s&&(t.acceleration[1]+=1),o.keyboard.keyState.d&&(t.acceleration[0]+=1),t.weapon&&o.keyboard.keyState[" "]&&t.weapon.fire(l(l(t)),o)}],t}return u(o,e.default),c(o,[{key:"onDestroy",value:function(e){e.setOverlay(e.overlays.end)}}]),o}();exports.default=y;
},{"./Ship":"7Y6d"}],"daJm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./GameObject"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t,e){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(o[r[n]]=t[r[n]])}return o},s=function(e){function o(t){var e;r(this,o);var u=t.source,c=l(t,["source"]);return(e=n(this,i(o).call(this,c))).collides=function(t){return e.source!==t&&t.x+t.width>e.x&&t.x<e.x+e.width&&t.y+t.height>e.y&&t.y<e.y+e.height},e.source=u,e}return c(o,t.default),o}();exports.default=s;
},{"./GameObject":"RTj/"}],"SjyU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Projectile"));function t(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function t(s){var o=this,r=s.fireRate,l=s.projectileSettings,a=s.ballisticVelocity,c=void 0===a?25:a,f=s.lastFire,n=void 0===f?0:f,p=s.ship,u=s.offset,v=void 0===u?[0,0]:u;i(this,t),this.fire=function(t,i){if(o.ship&&i.prevLoop-o.lastFire>1e3/o.fireRate){o.lastFire=Date.now();var s=new e.default({maxLife:o.projectileSettings.damage,source:o.ship,sprite:o.projectileSettings.sprite});s.x=t.x+o.offset[0]-t.velocity[0],s.y=t.y+o.offset[1]-t.velocity[1],s.velocity=[t.velocity[0]+o.ballisticVelocity,t.velocity[1]],i.addGameObject(s)}},this.fireRate=r,this.lastFire=n,this.ballisticVelocity=c,this.projectileSettings=l,this.offset=v,this.ship=p};exports.default=s;
},{"./Projectile":"daJm"}],"VBdK":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Button=void 0;var s=function(){function i(e){var s=this,n=e.label,h=e.font,o=e.onClick,a=e.x,r=e.y;t(this,i),this.isActive=!1,this.font="12px Arial, Helvetica, sans-serif",this.update=function(t){s.isActive=t.x>s.bounds.l&&t.x<s.bounds.r&&t.y>s.bounds.t&&t.y<s.bounds.b,s.isActive&&t.mouseClick&&s.prevClick!==t.mouseClick&&"function"==typeof s.onClick&&(s.prevClick=t.mouseClick,s.onClick())},this.render=function(t){t.drawImage(s.canvas,s._x,s._y)},this.label=n,this._x=a,this._y=r,this.font=h,this.onClick=o,this.canvas=document.createElement("canvas");var c=this.canvas.getContext("2d");c.font=this.font,this.width=c.measureText(this.label).width,this.height=1.3*parseInt(this.font,10),this.canvas.width=this.width,this.canvas.height=this.height,c.font=this.font,c.fillStyle="#eee",c.fillText(this.label,0,this.canvas.height/1.3),this.bounds={b:this._y+this.height,l:this._x,r:this._x+this.width,t:this._y}}return e(i,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.bounds.l=t,this.bounds.r=t+this.width}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.bounds.t=t,this.bounds.b=t+this.height}}]),i}();exports.Button=s;
},{}],"+gIP":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function e(i){var n=this,a=i.width,s=i.height,o=i.onExit;t(this,e),this.rendered=!1,this.prevState={},this.exit=function(){return"function"==typeof n.onExit&&n.onExit()},this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=s,this.onExit=o,this.canvas.id="overlay"};exports.default=e;
},{}],"xskF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../controls/Button"),e=n(require("./Overlay"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},s=function(n){function r(e){var n;o(this,r);var i=e.game,c=f(e,["game"]);(n=a(this,l(r).call(this,Object.assign({},c,{height:i.canvas.height,width:i.canvas.width})))).render=function(){if(!n.rendered){var t=n.canvas.getContext("2d");t.fillStyle="rgba(0, 0, 0, .5)",t.clearRect(0,0,n.canvas.width,n.canvas.height),t.fillRect(0,0,n.canvas.width,n.canvas.height),t.font="10px Arial, Helvetica, sans-serif",t.textAlign="center",t.fillStyle="#eee",t.fillText("Your journey ended in the vast space,",n.canvas.width/2,n.canvas.height/2-48),t.fillText("where the fragments of your ship fill float until the end of the time.",n.canvas.width/2,n.canvas.height/2-30),t.fillText("You can only hope that your journey was not made in vain, and someone will hear of your heroic exploits",n.canvas.width/2,n.canvas.height-60);var e=!0,r=!1,o=void 0;try{for(var a,i=n.prevState.buttons[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){a.value.render(t)}}catch(l){r=!0,o=l}finally{try{e||null==i.return||i.return()}finally{if(r)throw o}}n.rendered=!0}},n.update=function(t){var e=t.mouse,r=(t.keyboard,!0),o=!1,a=void 0;try{for(var i,l=n.prevState.buttons[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){i.value.update(e)}}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}};var u=new t.Button({font:"16px Arial, Helvetica, sans-serif",label:"Restart Game",onClick:function(){return i.reset()},x:0,y:n.canvas.height/2});u.x=n.canvas.width/2-u.width/2;var s=new t.Button({font:"18px Arial, Helvetica, sans-serif",label:"Submit score",onClick:function(){parent.postMessage({messageType:"SCORE",score:i.score},window.location.href)},x:0,y:n.canvas.height-40});return s.x=n.canvas.width/2-s.width/2,n.prevState={buttons:[u,s]},n}return c(r,e.default),r}();exports.default=s;
},{"../controls/Button":"VBdK","./Overlay":"+gIP"}],"MUmd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../controls/Button"),e=n(require("./Overlay"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},s=function(n){function r(e){var n;o(this,r);var i=e.game,c=f(e,["game"]);(n=a(this,l(r).call(this,Object.assign({},c,{height:i.canvas.height,width:i.canvas.width})))).render=function(){if(!n.rendered){var t=n.canvas.getContext("2d");t.fillStyle="rgba(0, 0, 0, .5)",t.clearRect(0,0,n.canvas.width,n.canvas.height),t.fillRect(0,0,n.canvas.width,n.canvas.height),t.font="16px Arial, Helvetica, sans-serif",t.textAlign="center",t.fillStyle="#eee",t.fillText("Movement: WASD",n.canvas.width/2,n.canvas.height/2-32),t.fillText("Shoot: space",n.canvas.width/2,n.canvas.height/2),t.font="10px Arial, Helvetica, sans-serif",t.fillText("Press space or movement keys to unpause",n.canvas.width/2,n.canvas.height/2+28);var e=!0,r=!1,o=void 0;try{for(var a,i=n.prevState.buttons[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){a.value.render(t)}}catch(l){r=!0,o=l}finally{try{e||null==i.return||i.return()}finally{if(r)throw o}}n.rendered=!0}},n.update=function(t){var e=t.mouse,r=t.keyboard,o=!0,a=!1,i=void 0;try{for(var l,c=n.prevState.buttons[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.update(e)}}catch(p){a=!0,i=p}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}var u=!0,f=!1,s=void 0;try{for(var v,y=" wasd"[Symbol.iterator]();!(u=(v=y.next()).done);u=!0){var h=v.value;r.keyState[h]&&n.exit()}}catch(p){f=!0,s=p}finally{try{u||null==y.return||y.return()}finally{if(f)throw s}}};var u=new t.Button({font:"14px Arial, Helvetica, sans-serif",label:"Save game",onClick:function(){return i.save()},x:5,y:n.canvas.height-20}),s=new t.Button({font:"14px Arial, Helvetica, sans-serif",label:"Load game",onClick:function(){return i.requestLoad()},x:0,y:n.canvas.height-20});return s.x=n.canvas.width-5-s.width,n.prevState={buttons:[u,s]},n}return c(r,e.default),r}();exports.default=s;
},{"../controls/Button":"VBdK","./Overlay":"+gIP"}],"fjKD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../controls/Button"),t=require("../entities/GameObject"),r=o(require("./Overlay"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&(r[o[n]]=e[o[n]])}return r},p=function(o){function n(r){var o;i(this,n);var c=r.pause,f=s(r,["pause"]);(o=a(this,l(n).call(this,f))).update=function(e){var t=e.mouse;return o.pauseButton.update(t)},o.render=function(e){if(JSON.stringify(o.prevState)!==JSON.stringify(e)){var r=o.canvas.getContext("2d");r.restore(),o.prevState&&o.prevState.life===e.life&&o.prevState.maxLife===e.maxLife||(r.font="10px Arial, Helvetica, sans-serif",r.strokeStyle="#555",r.rect(2,2,102,14),r.stroke(),r.fillStyle="#333",r.fillRect(3,3,100,12),r.fillStyle="#e05",r.fillRect(3,3,100*e.life/e.maxLife,12),r.fillStyle="#eee",r.textAlign="center",r.fillText("".concat(e.life," / ").concat(e.maxLife),53,11)),r.font="12px Arial, Helvetica, sans-serif";var n="Score: ".concat(Math.floor(e.score)),i=r.measureText(n).width;r.clearRect(o.canvas.width-20-i,0,i+20,14),r.textAlign="right",r.fillText(n,o.canvas.width-5,12);var a="Coordinates: (".concat(Math.floor(e.x/t.globalSpeedModifier),", ").concat(Math.floor(e.y/t.globalSpeedModifier),")"),c="Velocity: (".concat(Math.floor(e.velocity[0]),", ").concat(Math.floor(e.velocity[1]),")");i=Math.max(r.measureText(a).width,r.measureText(c).width),r.clearRect(o.canvas.width-10-i,o.canvas.height-32,i+10,32),r.fillText(a,o.canvas.width-5,o.canvas.height-5),r.fillText(c,o.canvas.width-5,o.canvas.height-20),o.rendered||o.pauseButton.render(r),r.save(),o.prevState=e,o.rendered=!0}};var u=new e.Button({font:"14px Arial, Helvetica, sans-serif",label:"Click here to pause",onClick:c,x:5,y:0});return u.y=o.canvas.height-5-u.height,o.pauseButton=u,o}return f(n,r.default),n}();exports.default=p;
},{"../controls/Button":"VBdK","../entities/GameObject":"RTj/","./Overlay":"+gIP"}],"IITU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./entities/GameObject");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var h=e[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function h(t,e,h){return e&&i(t.prototype,e),h&&i(t,h),t}var n=function(){function i(h,n){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e(this,i),this.targetOffset=[0,0],this.pan=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3]?(a.x=t.x+a.width/2+e[0],a.y=t.y-a.height/2+e[1]):(a.target=t,a.targetOffset=e),a.update(i)},this.update=function(e){if(void 0!==a.target){var i=a.target,h=i.x,n=i.y,r=i.velocity,o=h+a.width/2+a.targetOffset[0],s=n-a.height/2+a.targetOffset[1];o!==a.x&&(a.x+=Math.sign(o-a.x)*Math.log10(Math.pow(o-a.x,2))+e*t.globalSpeedModifier*r[0]),s!==a.y&&(a.y+=Math.sign(s-a.y)*Math.log10(Math.pow(s-a.y,2))+e*t.globalSpeedModifier*r[1])}},this.contains=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{l:0,r:0,t:0,b:0},i=e.l,h=e.r,n=e.t,r=e.b;return t.x+t.width>a.x-i&&t.x<a.x+a.width+h&&t.y+t.height>a.y-n&&t.y<a.y+a.height+r},this.x=r,this.y=o,this.width=h,this.width=h,this.height=n}return h(i,[{key:"resize",value:function(t,e){this.width=t,this.height=e}},{key:"translate",value:function(t,e){this.x=this.x+t,this.y=this.y+e}}]),i}();exports.default=n;
},{"./entities/GameObject":"RTj/"}],"Qwzd":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function i(e){var o=this,h=e.game,s=e.x,a=void 0===s?0:s,n=e.y,r=void 0===n?0:n,x=e.width,d=e.height,y=e.absolutePosition,u=void 0!==y&&y;t(this,i),this.contains=function(t){return o.absolutePosition?t.x+t.width>o.x+o.game.viewport.x&&t.x<o.game.viewport.x+o.x+o.width&&t.y+t.height>o.y+o.game.viewport.y&&t.y<o.game.viewport.y+o.y+o.height:t.x+t.width>o.x&&t.x<o.x+o.width&&t.y+t.height>o.y&&t.y<o.y+o.height},this.game=h,this.absolutePosition=u,this.x=a,this.y=r,this.width=x,this.height=d};exports.default=i;
},{}],"HNXy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Zone"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?f(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},c=function(e){function n(t){var e;r(this,n);var i=t.spawnRate,u=t.generateSpawn,c=t.getSpawnModifier,l=void 0===c?function(){return 1}:c,s=p(t,["spawnRate","generateSpawn","getSpawnModifier"]);return(e=o(this,a(n).call(this,Object.assign({},s,{absolutePosition:!0})))).prevSpawn=0,e.update=function(){if(!(e.game.prevLoop-e.prevSpawn<1e3/(e.getSpawnModifier(e.game)*e.spawnRate))){var t=e.generateSpawn(f(f(e)));if(Array.isArray(t)){var n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;e.spawn(u)}}catch(p){r=!0,o=p}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}else e.spawn(t);e.prevSpawn=Date.now()}},e.spawn=function(t){e.contains(t)||(t.x=e.x+Math.random()*e.width,t.y=e.y+Math.random()*e.height,e.absolutePosition&&(t.x+=e.game.viewport.x,t.y+=e.game.viewport.y),e.game.addGameObject(t))},e.getSpawnModifier=l,e.spawnRate=i,e.generateSpawn=u,e}return i(n,t.default),n}();exports.default=c;
},{"./Zone":"Qwzd"}],"3FG7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeteorSpawns=void 0;var e=a(require("../entities/Meteor")),t=a(require("./SpawnZone"));function a(e){return e&&e.__esModule?e:{default:e}}var n=function(a){return[new t.default({game:a,generateSpawn:function(){return new e.default({maxLife:3+10*Math.random(),velocity:[6*Math.random()-3,1.5*Math.random()-.75]})},getSpawnModifier:function(e){var t=e.player;return.2+.8*t.velocity[0]/t.maxVelocity[0]},spawnRate:3.5,height:a.canvas.height+200,width:150,x:a.canvas.width,y:-100}),new t.default({game:a,generateSpawn:function(){return new e.default({maxLife:3+10*Math.random(),velocity:[1.5*Math.random()-.75,6*Math.random()-1.5]})},getSpawnModifier:function(e){var t=e.player;return.2+.8*Math.min(0,t.velocity[1])/t.minVelocity[1]},spawnRate:1.5,height:100,width:a.canvas.width,y:-200}),new t.default({game:a,generateSpawn:function(){return new e.default({maxLife:3+8*Math.random(),velocity:[1.5*Math.random()-.75,6*-Math.random()+1.5]})},getSpawnModifier:function(e){var t=e.player;return.2+.8*Math.max(0,t.velocity[1])/t.maxVelocity[1]},spawnRate:1.5,height:100,width:a.canvas.width,y:a.canvas.height})]};exports.getMeteorSpawns=n;
},{"../entities/Meteor":"kAfW","./SpawnZone":"HNXy"}],"6LMN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("./controls/keyboardListener")),t=h(require("./controls/MouseListener")),a=h(require("./entities/Meteor")),r=h(require("./entities/Player")),n=h(require("./entities/Projectile")),i=h(require("./entities/Weapon")),o=h(require("./interface/End")),s=h(require("./interface/Pause")),c=h(require("./interface/UserInterface")),l=require("./sprites/Sprite"),u=h(require("./Viewport")),p=require("./zones/zones");function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return m(e)||y(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function y(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function m(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,a){return t&&w(e.prototype,t),a&&w(e,a),e}var O=function(){function h(){var a=this;g(this,h),this.fps=60,this.keyboard=new e.default,this.mouse=new t.default,this.score=0,this.prevRender=0,this.prevLoop=Date.now(),this.gameObjects=[],this.zones=[],this._pause=!1,this.mount=function(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(a.canvas),a.reset(),a.loopHandle=window.requestAnimationFrame(a.loop),a.keyboard.mount(),a.mouse.mount(a.canvas.parentNode)},this.unmount=function(){if(a.gameObjects.length=0,a.canvas.parentNode)for(a.keyboard.unmount(),a.mouse.unmount(a.canvas.parentNode);a.canvas.parentNode.firstChild;)a.canvas.parentNode.removeChild(a.canvas.parentNode.firstChild);a.loopHandle&&window.cancelAnimationFrame(a.loopHandle)},this.reset=function(){a.score=0,a.player=new r.default({initialHeight:20,maxLife:100,scale:1.7,sprite:l.sprites.ship,maxVelocity:[15,15],minVelocity:[0,-15]}),a.player.weapon=new i.default({fireRate:3,offset:[46,8],projectileSettings:{damage:2,sprite:l.sprites.projectile},ship:a.player}),a.viewport.pan({x:-a.canvas.width/3,y:a.player.height/2,velocity:[0,0]},[-a.canvas.width/2+a.player.width,0],0,!0),a.gameObjects=[a.player],a.zones=v((0,p.getMeteorSpawns)(a)),a.pause=!0},this.addGameObject=function(e){a.gameObjects.push(e)},this.loop=function(){var e=Date.now();e-a.prevRender>1e3/a.fps&&a.render(),a.update((e-a.prevLoop)/1e3),a.prevLoop=e,a.loopHandle=window.requestAnimationFrame(a.loop)},this.requestLoad=function(){parent.postMessage({messageType:"LOAD_REQUEST"},window.location.href)},this.load=function(e){var t=e.data;"object"===d(t)&&("messageType"in t&&"LOAD"===t.messageType?"gameState"in t&&(a.gameState=t.gameState):"error"===t.messageType&&alert(t.info||"Error loading game state"))},this.save=function(){parent.postMessage({messageType:"SAVE",gameState:a.gameState},window.location.href)},this.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.canvas.getContext("2d"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.viewport;a.prevRender=Date.now(),e.clearRect(0,0,a.viewport.width,a.viewport.height);var r=!0,n=!1,i=void 0;try{for(var o,s=a.gameObjects[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;c&&a.viewport.contains(c)&&c.render(e,t)}}catch(u){n=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}if(a.activeOverlay){var l={score:a.score};a.player&&Object.assign(l,{life:a.player.life,maxLife:a.player.maxLife,velocity:a.player.velocity,x:a.player.x,y:a.player.y}),a.activeOverlay.render(l)}},this.update=function(e){if(a.activeOverlay&&a.activeOverlay.update&&a.activeOverlay.update({mouse:a.mouse,keyboard:a.keyboard}),!a._pause){var t=!0,r=!1,n=void 0;try{for(var i,o=a.zones[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.update&&s.update()}}catch(l){r=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}a.player&&a.viewport.pan(a.player,[-a.canvas.width/2-20*a.player.acceleration[0]-.5*a.player.width,40*-a.player.acceleration[1]+a.player.height/2],e);for(var c=a.gameObjects.length;c--;)a.viewport.contains(a.gameObjects[c],{l:0,t:200,b:200,r:200})?a.gameObjects[c].update(e,a,c):a.gameObjects.splice(c,1)}},this.setOverlay=function(e){a.clearOverlay(),a.activeOverlay=e,a.canvas.parentNode&&a.canvas.parentNode.appendChild(a.activeOverlay.canvas)},this.clearOverlay=function(){if(a.canvas.parentNode){var e=document.getElementById("overlay");e&&a.canvas.parentNode.removeChild(e)}},this.canvas=document.createElement("canvas"),this.canvas.id="game",this.canvas.width=500,this.canvas.height=300,parent.postMessage({messageType:"SETTING",options:{height:this.canvas.height,width:this.canvas.width}},window.location.href),this.overlays={end:new o.default({game:this}),pause:new s.default({game:this,onExit:function(){return a.pause=!1}}),ui:new c.default({height:this.canvas.height,pause:function(){return a.pause=!0},width:this.canvas.width})},this.viewport=new u.default(this.canvas.width,this.canvas.height)}return b(h,[{key:"pause",set:function(e){this._pause=e,e?this.setOverlay(this.overlays.pause):this.setOverlay(this.overlays.ui)},get:function(){return this._pause}},{key:"gameState",set:function(e){var t=this;this.reset(),this.score=e.score,e.gameObjects.map(function(e){if(e.type===r.default.prototype.constructor.name){var i=t.player;i.state=e,t.viewport.pan({x:i.x-t.canvas.width/3,y:i.y+i.height/2,velocity:[0,0]},[-t.canvas.width/2+i.width,0],0,!0)}else e.type===n.default.prototype.constructor.name?t.gameObjects.push(new n.default(e)):t.gameObjects.push(new a.default(e))})},get:function(){return{gameObjects:this.gameObjects.map(function(e){return e.state}),score:this.score}}}]),h}();exports.default=O;
},{"./controls/keyboardListener":"xRT1","./controls/MouseListener":"J+uv","./entities/Meteor":"kAfW","./entities/Player":"N446","./entities/Projectile":"daJm","./entities/Weapon":"SjyU","./interface/End":"xskF","./interface/Pause":"MUmd","./interface/UserInterface":"fjKD","./sprites/Sprite":"Z1C3","./Viewport":"IITU","./zones/zones":"3FG7"}],"9B6d":[function(require,module,exports) {
"use strict";var e=n(require("./Game"));function n(e){return e&&e.__esModule?e:{default:e}}!function(){var n=new e.default;window.removeEventListener("message",n.load),window.addEventListener("message",n.load,!1),n.unmount(),n.mount(document.getElementById("game-container"))}();
},{"./Game":"6LMN"}]},{},["9B6d"], null)
//# sourceMappingURL=src.224d0a75.map